<!DOCTYPE html>
<html lang="en">
<head>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>

	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
	<meta charset="utf-8" />
	<title>Login Password - AlphaNet</title>

	<meta name="description" content="User login page" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />

	<!-- bootstrap & fontawesome -->
	<link rel="stylesheet" href="assets/css/bootstrap.min.css" />
	<link rel="stylesheet" href="assets/font-awesome/4.5.0/css/font-awesome.min.css" />

	<!-- text fonts -->
	<link rel="stylesheet" href="assets/css/fonts.googleapis.com.css" />

	<!-- ace styles -->
	<link rel="stylesheet" href="assets/css/ace.min.css" />

		<!--[if lte IE 9]>
			<link rel="stylesheet" href="assets/css/ace-part2.min.css" />
		<![endif]-->
		<link rel="stylesheet" href="assets/css/ace-rtl.min.css" />

		<!--[if lte IE 9]>
		  <link rel="stylesheet" href="assets/css/ace-ie.min.css" />
		<![endif]-->

		<!-- HTML5shiv and Respond.js for IE8 to support HTML5 elements and media queries -->

		<!--[if lte IE 8]>
		<script src="assets/js/html5shiv.min.js"></script>
		<script src="assets/js/respond.min.js"></script>
	<![endif]-->
</head>

<body class="login-layout" ng-app="App" ng-controller="ctrl">
	<div class="main-container">
		<div class="main-content">
			<div class="row">
				<div class="col-sm-10 col-sm-offset-1">
					<div class="login-container">
						<div class="center">
							<h1>

								<span class="red">Welcome to </span>
								<span class="white" id="id-text2"></span>
							</h1>
							<h4 class="blue" id="id-company-text">&copy; AlphaNet</h4>
						</div>

						<div class="space-6"></div>

						<div class="position-relative">
							<div id="login-box" class="login-box visible widget-box no-border">
								<div class="widget-body">
									<div class="widget-main">
										<h4 class="header blue lighter bigger center">
											<i class="ace-icon fa fa-lock green"></i>
											Administrator - Password
										</h4>

										<div class="space-6"></div>

										<form>
											<fieldset>
												<label class="block clearfix">
													<span class="block input-icon input-icon-right">
														<input type="password" class="form-control" placeholder="Enter Your Password" ng-model="password1" />
														<i class="ace-icon fa fa-user"></i>
													</span>
												</label>
<div style="color: red;">{{status}}</div>

												<div class="space"></div>

												<div class="clearfix" >


													<button type="button" class="width-50 pull-right btn btn-sm btn-primary" ng-click="emailValidate()">
														<i class="ace-icon fa fa-key"></i>
														<span class="bigger-110">Login</span>
													</button>
												</div>

												<div class="space-4"></div>
											</fieldset>
										</form>




									</div><!-- /.widget-main -->

									<div class="toolbar clearfix">
										<div>
											<a href="#" data-target="#forgot-box" class="forgot-password-link">
												<i class="ace-icon fa fa-arrow-left"></i>
												Forgot Password?
											</a>
										</div>

										<div>
											<a href="#" data-target="#signup-box" class="user-signup-link">
												SignUp
												<i class="ace-icon fa fa-arrow-right"></i>
											</a>
										</div>
									</div>
								</div><!-- /.widget-body -->
							</div><!-- /.login-box -->

							<div id="forgot-box" class="forgot-box widget-box no-border">
								<div class="widget-body">
									<div class="widget-main">
										<h4 class="header red lighter bigger">
											<i class="ace-icon fa fa-key"></i>
											Retrieve Password
										</h4>

										<div class="space-6"></div>
										<p>
											Enter your email and to receive instructions
										</p>

										<form>
											<fieldset>
												<label class="block clearfix">
													<span class="block input-icon input-icon-right">
														<input type="email" class="form-control" placeholder="Email" />
														<i class="ace-icon fa fa-envelope"></i>
													</span>
												</label>

												<div class="clearfix">
													<button type="button" class="width-35 pull-right btn btn-sm btn-danger">
														<i class="ace-icon fa fa-lightbulb-o"></i>
														<span class="bigger-110">Send Me!</span>
													</button>
												</div>
											</fieldset>
										</form>
									</div><!-- /.widget-main -->

									<div class="toolbar center">
										<a href="#" data-target="#login-box" class="back-to-login-link">
											Back to login
											<i class="ace-icon fa fa-arrow-right"></i>
										</a>
									</div>
								</div><!-- /.widget-body -->
							</div><!-- /.forgot-box -->

							<div id="signup-box" class="signup-box widget-box no-border">
								<div class="widget-body">
									<div class="widget-main">
										<h4 class="header green lighter bigger">
											<i class="ace-icon fa fa-users blue"></i>
											New Admin Registration
										</h4>

										<div class="space-6"></div>
										<p> Enter your details to begin: </p>

										<form>
											<fieldset>
												<label class="block clearfix">
													<span class="block input-icon input-icon-right">
														<input type="text" class="form-control" placeholder="Name" ng-model="name" />
														<i class="ace-icon fa fa-user"></i>
													</span>
												</label>

												<label class="block clearfix">
													<span class="block input-icon input-icon-right">
														<input type="email" class="form-control" placeholder="Email" ng-model="email"/>
														<i class="ace-icon fa fa-envelope"></i>
													</span>
												</label>

												<label class="block clearfix">
													<span class="block input-icon input-icon-right">
														<input type="password" class="form-control" placeholder="Password" ng-model="password1" />
														<i class="ace-icon fa fa-lock"></i>
													</span>
												</label>

												<label class="block clearfix">
													<span class="block input-icon input-icon-right">
														<input type="password" class="form-control" placeholder="Confirm password" ng-model="password2" />
														<i class="ace-icon fa fa-retweet"></i>
													</span>
												</label>

												

												<label class="block clearfix">
													<span class="block input-icon input-icon-right">
														<input type="text" class="form-control" placeholder="Mobile Number" ng-model="mobno" />
														<i class="ace-icon fa fa-mobile"></i>
													</span>
												</label>

												<label for="form-field-select-1"></label>

												<select class="form-control" id="form-field-select-1" ng-model="state">
													<option value="">Select State</option>
													<option value="AL">Kerela</option>
													<option value="AK">Karnataka</option>
													<option value="AZ">Tamilnadu</option>
													<option value="AR">Andhra Pradesh</option>
													<option value="CA">Goa</option>
													<option value="CO">Delhi</option>
													<option value="CT">Gujarat</option>
												</select>

												<label for="form-field-select-1"></label>

												<select class="form-control" id="form-field-select-1" ng-model="language">
													<option value="">Select Language</option>
													<option value="AL">English</option>
													<option value="AK">Telugu</option>
													<option value="AZ">Kannada</option>
													<option value="AR">Tamil</option>
													<option value="CA">Malayalam</option>
													<option value="CO">Hindi</option>
												</select>

												<label for="form-field-select-1"></label>

												<select class="form-control" id="form-field-select-1" ng-model="servicetype">
													<option value="">Service Type</option>
													<option value="AL">Local </option>
													<option value="AK">Long Distance</option>
												</select>



												<label for="form-field-select-1"></label>

												<select class="form-control" id="form-field-select-1" ng-model="busservicetype">
													<option value="">Bus Service Type</option>
													<option value="AL">KSRTC</option>
													<option value="AK">BMTC</option>
													<option value="AZ">TNSTC</option>
												</select>


												<label class="block clearfix" >
													<input type="checkbox" class="ace" />
													<span class="lbl">
														I accept the
														<a href="#">User Agreement</a>
													</span>
												</label>

												<div class="space-24"></div>

												<div class="clearfix">
													<button type="reset" class="width-30 pull-left btn btn-sm">
														<i class="ace-icon fa fa-refresh"></i>
														<span class="bigger-110">Reset</span>
													</button>

													<button type="button" class="width-65 pull-right btn btn-sm btn-success" ng-click="postdata()" >
														<span class="bigger-110">Register</span>

														<i class="ace-icon fa fa-arrow-right icon-on-right"></i>
													</button>
												</div>
											</fieldset>
										</form>
									</div>

									<div class="toolbar center">
										<a href="#" data-target="#login-box" class="back-to-login-link">
											<i class="ace-icon fa fa-arrow-left"></i>
											Back to login
										</a>
									</div>
								</div><!-- /.widget-body -->
							</div><!-- /.signup-box -->
						</div><!-- /.position-relative -->

						<div class="navbar-fixed-top align-right">
							<br />
							&nbsp;
							<a id="btn-login-dark" href="#">Dark</a>
							&nbsp;
							<span class="blue">/</span>
							&nbsp;
							<a id="btn-login-blur" href="#">Blur</a>
							&nbsp;
							<span class="blue">/</span>
							&nbsp;
							<a id="btn-login-light" href="#">Light</a>
							&nbsp; &nbsp; &nbsp;
						</div>
					</div>
				</div><!-- /.col -->
			</div><!-- /.row -->
		</div><!-- /.main-content -->
	</div><!-- /.main-container -->

	<!-- basic scripts -->

	<!--[if !IE]> -->
	<script src="assets/js/jquery-2.1.4.min.js"></script>

	<!-- <![endif]-->

		<!--[if IE]>
<script src="assets/js/jquery-1.11.3.min.js"></script>
<![endif]-->
<script type="text/javascript">
	if('ontouchstart' in document.documentElement) document.write("<script src='assets/js/jquery.mobile.custom.min.js'>"+"<"+"/script>");
</script>

<!-- inline scripts related to this page -->
<script type="text/javascript">
	jQuery(function($) {
		$(document).on('click', '.toolbar a[data-target]', function(e) {
			e.preventDefault();
			var target = $(this).data('target');
				$('.widget-box.visible').removeClass('visible');//hide others
				$(target).addClass('visible');//show target
			});
	});



			//you don't need this, just used for changing background
			jQuery(function($) {
				$('#btn-login-dark').on('click', function(e) {
					$('body').attr('class', 'login-layout');
					$('#id-text2').attr('class', 'white');
					$('#id-company-text').attr('class', 'blue');

					e.preventDefault();
				});
				$('#btn-login-light').on('click', function(e) {
					$('body').attr('class', 'login-layout light-login');
					$('#id-text2').attr('class', 'grey');
					$('#id-company-text').attr('class', 'blue');

					e.preventDefault();
				});
				$('#btn-login-blur').on('click', function(e) {
					$('body').attr('class', 'login-layout blur-login');
					$('#id-text2').attr('class', 'white');
					$('#id-company-text').attr('class', 'light-blue');

					e.preventDefault();
				});

			});
		</script>

		<script>
			var app = angular.module('App', []);
		app.controller('ctrl', function ($scope, $http) {
			$scope.name = null;
			$scope.email = null;
			$scope.password1 = null;
			$scope.password2 = null;
			$scope.mobno = null;
			$scope.state = null;
			$scope.language = null;
			$scope.servicetype = null;
			$scope.busservicetype = null;
			$scope.lblMsg = null;
			$scope.postdata = function () {
				var data = {
					name: $scope.name,
					email: $scope.email,
					password: $scope.password1,
					mobno: $scope.mobno,
					state: $scope.state,
					language: $scope.language,
					servicetype: $scope.servicetype,
					busservicetype: $scope.busservicetype
				};
				$http.post('http://localhost:5000/api/admin/addadmin', JSON.stringify(data)).then(function (response) {
					if (response.data)
						$scope.msg = "Post Data Submitted Successfully!";
					window.location.href = "./login.html";
					$scope.statusval = response.status;
					$scope.statustext = response.statusText;
					$scope.headers = response.headers();
				}, function (response) {
					$scope.msg = "Service not Exists";
					$scope.statusval = response.status;
					$scope.statustext = response.statusText;
					$scope.headers = response.headers();
				});
			};
			$scope.emailValidate = function () {
				var data = {
					email: localStorage.getItem('user'),
					password: $scope.password1
				};
				$http.post('http://localhost:5000/api/admin/login', JSON.stringify(data)).then(function (response) {
					if (response.data)
						{$scope.msg = "Post Data Submitted Successfully!";
					window.location.href = "./index.html";					
					localStorage.removeItem('user');
					$scope.statusval = response.status;
					$scope.statustext = response.statusText;
					$scope.headers = response.headers();}
					else {
						$scope.password1="";$scope.status="Wrong Password. Try Again..!!";
					}
				}, function (response) {
				});
			};
		});
		</script>
	</body>
	</html>
